{"version":3,"sources":["../src/create.ts"],"sourcesContent":["import path from 'path';\nimport fs from 'fs-jetpack';\nimport * as logger from './utils/logger';\nimport modelTemplate from './template/model';\nimport controllerTemplate from './template/controller';\nimport loggerTable from './utils/table';\nimport register_router from './router';\n\nconst model_path = path.resolve(fs.cwd(), './app/model');\nconst controller_path = path.resolve(fs.cwd(), './app/controller');\n\nconst init = (name: string) => {\n  const filepath = path.resolve(model_path, `${name}.js`);\n  const isExist = fs.exists(filepath);\n  // Âà§Êñ≠Êñ∞Âª∫Êñá‰ª∂ÊòØÂê¶Â≠òÂú®\n  if (isExist === 'file') {\n    return logger.warning(`üí• Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåËØ∑ÂãøÈáçÂ§çÂàõÂª∫=> ${filepath} `);\n  }\n  // ÂàõÂª∫ÂØπÂ∫îÊñá‰ª∂\n  fs.write(filepath, modelTemplate(name));\n  logger.success(`üåà ModelÊñá‰ª∂ÂàõÂª∫ÊàêÂäü`);\n  logger.primary(`üê¨ ËØ∑ÂâçÂæÄËØ•Êñá‰ª∂ÔºåÊñ∞Â¢ûÂØπÂ∫îÂ≠óÊÆµ=>  ${filepath}`);\n  // ÂàõÂª∫controllerÊñá‰ª∂\n  createController(name);\n  // Ê≥®ÂÜåË∑ØÁî±\n  register_router(name);\n};\n\nconst createController = (name: string) => {\n  const filepath = path.resolve(controller_path, `${name}.js`);\n  if (fs.exists(filepath) === 'file') {\n    return logger.warning(`üí• Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåËØ∑ÂãøÈáçÂ§çÂàõÂª∫=> ${filepath} `);\n  }\n  // ÂàõÂª∫ÂØπÂ∫îÊñá‰ª∂\n  fs.write(filepath, controllerTemplate(name));\n  logger.success(`üåà ControllerÊñá‰ª∂ÂàõÂª∫ÊàêÂäü`);\n  logger.primary(`üê¨ CRUDÊé•Âè£ÁîüÊàêÊàêÂäü:`);\n  loggerTable(name);\n};\n\nexport default init;\n"],"names":["logger","model_path","resolve","cwd","controller_path","init","name","filepath","isExist","exists","warning","write","success","primary","createController"],"mappings":";;;;;AAAiB,GAAM,CAAN,KAAM;AACR,GAAY,CAAZ,UAAY;AACfA,GAAM,CAANA,MAAM;AACQ,GAAkB,CAAlB,MAAkB;AACb,GAAuB,CAAvB,WAAuB;AAC9B,GAAe,CAAf,MAAe;AACX,GAAU,CAAV,OAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEtC,KAAK,CAACC,UAAU,GARC,KAAM,SAQCC,OAAO,CAPhB,UAAY,SAOQC,GAAG,IAAI,CAAa;AACvD,KAAK,CAACC,eAAe,GATJ,KAAM,SASMF,OAAO,CARrB,UAAY,SAQaC,GAAG,IAAI,CAAkB;AAEjE,KAAK,CAACE,IAAI,IAAIC,IAAY,GAAK,CAAC;IAC9B,KAAK,CAACC,QAAQ,GAZC,KAAM,SAYCL,OAAO,CAACD,UAAU,KAAKK,IAAI,CAAC,GAAG;IACrD,KAAK,CAACE,OAAO,GAZA,UAAY,SAYNC,MAAM,CAACF,QAAQ;IAClC,EAAa,AAAb,+BAAiC;IACb,EAAlB,EAAEC,OAAO,KAAK,CAAM,OAAE,CAAC;QACvB,MAAM,CAdER,MAAM,CAcAU,OAAO,EAAE,4CAAiB,EAA6BH,QAAQ,CAAC,CAAC;IACtD,CAA1B;IACD,EAAS,AAAT,mBAAqB;IAjBR,UAAY,SAkBVI,KAAP,CAACJ,QAAQ,MAhBO,MAAkB,UAgBTD,IAAI;IAjB3BN,MAAM,CAkBTY,OAAO,EAAE,4BAAa;IAlBnBZ,MAAM,CAmBMa,OAAR,EAAE,gDAAmB,EAA+BN,QAAQ;IAC7C,EAAZ,AAAjB,uBAAyB;IACjBO,gBAAQ,CAACR,IAAI;IACrB,EAAO,AAAP,aAAe;QAlBW,OAAU,UAmBZA,IAAJ;AACtB,CAAC;AAED,KAAK,CAACQ,gBAAgB,IAAIR,IAAY,GAAK,CAAC;IAC1C,KAAK,CAACC,QAAQ,GA7BC,KAAM,SA6BCL,OAAO,CAACE,eAAe,KAAKE,IAAI,CAAC,GAAG;IAC1D,EAAE,EA7BW,UAAY,SA6BlBG,MAAM,CAACF,QAAQ,MAAM,CAAM,OAAE,CAAC;QACnC,MAAM,CA7BEP,MAAM,CA6BAU,OAAO,EAAE,4CAAiB,EAA6BH,QAAQ,CAAC,CAAC;IACtD,CAA1B;IACD,EAAS,AAAT,mBAAqB;IAhCR,UAAY,SAiCVI,KAAP,CAACJ,QAAQ,MA9BY,WAAuB,UA8BdD,IAAI;IAhChCN,MAAM,CAiCTY,OAAO,EAAE,iCAAkB;IAjCxBZ,MAAM,CAkCMa,OAAR,EAAE,4BAAa;QA/BP,MAAe,UAgCzBP,IAAI;AAClB,CAAC;eAEcD,IAAI"}